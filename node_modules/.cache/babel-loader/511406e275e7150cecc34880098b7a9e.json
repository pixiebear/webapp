{"ast":null,"code":"import _slicedToArray from \"/Users/nikola/Sites/candy-machine/candy-machine-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useState } from 'react';\nexport function useLocalStorage(key, defaultState) {\n  var _useState = useState(function () {\n    if (typeof localStorage === 'undefined') return defaultState;\n    var value = localStorage.getItem(key);\n\n    try {\n      return value ? JSON.parse(value) : defaultState;\n    } catch (error) {\n      console.warn(error);\n      return defaultState;\n    }\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var setLocalStorage = useCallback(function (newValue) {\n    if (newValue === value) return;\n    setValue(newValue);\n\n    if (newValue === null) {\n      localStorage.removeItem(key);\n    } else {\n      try {\n        localStorage.setItem(key, JSON.stringify(newValue));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, [value, setValue, key]);\n  return [value, setLocalStorage];\n}","map":{"version":3,"sources":["../src/useLocalStorage.ts"],"names":[],"mappings":";AAAA,SAAS,WAAT,EAAsB,QAAtB,QAAsC,OAAtC;AAEA,OAAM,SAAU,eAAV,CAA6B,GAA7B,EAA0C,YAA1C,EAAyD;EAC3D,gBAA0B,QAAQ,CAAI,YAAK;IACvC,IAAI,OAAO,YAAP,KAAwB,WAA5B,EAAyC,OAAO,YAAP;IAEzC,IAAM,KAAK,GAAG,YAAY,CAAC,OAAb,CAAqB,GAArB,CAAd;;IACA,IAAI;MACA,OAAO,KAAK,GAAI,IAAI,CAAC,KAAL,CAAW,KAAX,CAAJ,GAA8B,YAA1C;IACH,CAFD,CAEE,OAAO,KAAP,EAAc;MACZ,OAAO,CAAC,IAAR,CAAa,KAAb;MACA,OAAO,YAAP;IACH;EACJ,CAViC,CAAlC;EAAA;EAAA,IAAO,KAAP;EAAA,IAAc,QAAd;;EAYA,IAAM,eAAe,GAAG,WAAW,CAC/B,UAAC,QAAD,EAAgB;IACZ,IAAI,QAAQ,KAAK,KAAjB,EAAwB;IACxB,QAAQ,CAAC,QAAD,CAAR;;IAEA,IAAI,QAAQ,KAAK,IAAjB,EAAuB;MACnB,YAAY,CAAC,UAAb,CAAwB,GAAxB;IACH,CAFD,MAEO;MACH,IAAI;QACA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,IAAI,CAAC,SAAL,CAAe,QAAf,CAA1B;MACH,CAFD,CAEE,OAAO,KAAP,EAAc;QACZ,OAAO,CAAC,KAAR,CAAc,KAAd;MACH;IACJ;EACJ,CAd8B,EAe/B,CAAC,KAAD,EAAQ,QAAR,EAAkB,GAAlB,CAf+B,CAAnC;EAkBA,OAAO,CAAC,KAAD,EAAQ,eAAR,CAAP;AACH","sourceRoot":"","sourcesContent":["import { useCallback, useState } from 'react';\nexport function useLocalStorage(key, defaultState) {\n    const [value, setValue] = useState(() => {\n        if (typeof localStorage === 'undefined')\n            return defaultState;\n        const value = localStorage.getItem(key);\n        try {\n            return value ? JSON.parse(value) : defaultState;\n        }\n        catch (error) {\n            console.warn(error);\n            return defaultState;\n        }\n    });\n    const setLocalStorage = useCallback((newValue) => {\n        if (newValue === value)\n            return;\n        setValue(newValue);\n        if (newValue === null) {\n            localStorage.removeItem(key);\n        }\n        else {\n            try {\n                localStorage.setItem(key, JSON.stringify(newValue));\n            }\n            catch (error) {\n                console.error(error);\n            }\n        }\n    }, [value, setValue, key]);\n    return [value, setLocalStorage];\n}\n//# sourceMappingURL=useLocalStorage.js.map"]},"metadata":{},"sourceType":"module"}